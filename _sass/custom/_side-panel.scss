// _sass/custom/_side-panel.scss

// Assicurati che le variabili usate qui siano definite in un file importato PRIMA di questo,
// ad esempio in _sass/custom/_variables.scss o che siano variabili globali di Minimal Mistakes.
// Esempi di variabili che potresti aver definito (adattali ai tuoi nomi):
// $side-panel-width: 280px;
// $side-panel-bg-color: #1c1f26;
// $side-panel-text-color: #dfe3e8;
// $side-panel-text-hover-color: #ffffff;
// $side-panel-title-color: #ffffff;
// $side-panel-link-hover-bg: rgba(255, 255, 255, 0.07);
// $side-panel-border-color: rgba(255, 255, 255, 0.1);
// $side-panel-transition-duration: 0.35s;
// $side-panel-transition-timing: ease-in-out;
// $link-color: #4183c4; // Esempio di variabile link da MM
// $border-radius: 4px; // Esempio di variabile border-radius da MM
// $type-size-5: 1.25em; // Esempio per il titolo del pannello
// $type-size-6: 1em;    // Esempio per i link del pannello (circa 16px-18px)


// Stili per il Pannello Laterale del Menu
.side-panel {
  height: 100%;
  width: 0; // Inizia chiuso, la larghezza viene impostata da .is-open
  position: fixed; // Fisso rispetto alla viewport
  z-index: 1002;   // Sopra il grafo e il toggle, ma sotto eventuali modal/tooltip di sistema
  top: 0;
  left: 0;
  background-color: $side-panel-bg-color; // Es. #1c1f26 (scuro)
  overflow-x: hidden; // Disabilita lo scroll orizzontale nel pannello
  overflow-y: auto;   // Permette lo scroll verticale se ci sono molti link
  transition-property: width, opacity, visibility;
  transition-duration: 0.2s; // La tua durata veloce
  transition-timing-function: ease-out; 
  // transition-delay: 0s, 0s, 0.2s; // Ritarda la scomparsa di visibility finché width e opacity sono a 0

  opacity: 0;       // Inizia trasparente quando è chiuso (width: 0)
  visibility: hidden; // Inizia completamente nascosto e non interattivo

  padding-top: 0; 
  box-shadow: 2px 0px 15px rgba(0, 0, 0, 0.4);

  // Classe aggiunta da JavaScript quando il pannello è aperto
  &.is-open {
    width: $side-panel-width; // Es. 280px
    opacity: 1;
    visibility: visible;
  }

  // Header del pannello (per titolo e pulsante chiusura)
  &__header {
    min-height: 60px;
    display: flex;
    align-items: center;
    padding: 0 25px; 
  }

  // Contenitore per i link di navigazione
  &__nav {
    padding-top: 10px; 
    padding-bottom: 20px; // Spazio in fondo al menu

    a { // Stile per TUTTI i link <a> dentro la navigazione del pannello
      color: $side-panel-text-color; // Es. #dfe3e8 (testo chiaro)
      display: block;
      padding: 10px 25px; // Padding per ogni link
      font-size: $type-size-6; // Es. 1em o 16px
      text-decoration: none;
      border-left: 4px solid transparent; // Bordo per indicare hover/focus
      transition: color 0.2s ease, 
                  background-color 0.2s ease, 
                  border-left-color 0.2s ease;

      &:hover,
      &:focus { // Stesso stile per hover e focus per coerenza
        color: $side-panel-text-hover-color;      // Es. #ffffff (bianco)
        background-color: $side-panel-link-hover-bg; // Es. rgba(255,255,255,0.07)
        border-left-color: $link-color;           // Usa il colore link principale del tema (es. blu)
        outline: none; // Rimuovi outline di default del browser, il cambio di stile è già un indicatore
      }
    }
  }

  hr { // Linea separatrice nel menu
    border: 0;
    height: 1px;
    background-color: $side-panel-border-color; // Es. rgba(255,255,255,0.1)
    margin: 15px 25px;
  }
}

.menu-toggle {
  position: absolute;
  top: 20px;        // Aumenta la distanza dall'alto
  left: 20px;       // Aumenta la distanza da sinistra
  z-index: 1003;
  
  // Aspetto più da "pulsante"
  background-color: rgba(52, 73, 94, 0.7); // Sfondo più solido, ma ancora un po' trasparente (blu ardesia)
  color: #ecf0f1;                         // Colore icona (testo) chiaro
  border: 1px solid rgba(255, 255, 255, 0.2); // Bordo sottile e chiaro
  padding: 10px 12px;                     // Padding per dare spazio all'icona
  cursor: pointer;
  border-radius: $border-radius;          // Usa il border-radius di MM (es. 4px o 6px)
  font-size: 20px;                        // Dimensione dell'icona hamburger (☰)
  line-height: 1;                         // Per centrare l'icona testuale
  box-shadow: 0 2px 5px rgba(0,0,0,0.2);  // Ombra leggera per dare profondità
  transition: background-color 0.2s ease, opacity 0.1s ease, transform 0.1s ease, box-shadow 0.2s ease;
  opacity: 1;

  &:hover {
    background-color: rgba(74, 93, 112, 0.9); // Sfondo leggermente più scuro/opaco al hover
    color: #ffffff;
    box-shadow: 0 3px 7px rgba(0,0,0,0.3);
  }

  &:active { // Effetto al click
    transform: translateY(1px); // Leggero "push down"
    box-shadow: 0 1px 3px rgba(0,0,0,0.2);
  }

  &:focus { // Stile per il focus (accessibilità)
    outline: 2px solid $link-color; // Usa il colore link di MM per l'outline
    outline-offset: 2px;
  }

  // Se preferisci usare un'icona FontAwesome invece di ☰
  // Dovrai includere FontAwesome nel tuo sito e cambiare l'HTML del pulsante.
  // Esempio: <button class="menu-toggle" id="openMenuBtn"><i class="fas fa-bars"></i></button>
  // i.fas {
  //   font-size: inherit; // L'icona prenderà la dimensione del font del pulsante
  //   vertical-align: middle; // Aiuta a centrare l'icona
  // }
}
